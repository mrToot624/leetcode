<p>ä¼ é€å¸¦ä¸Šçš„åŒ…è£¹å¿…é¡»åœ¨ <code>days</code> å¤©å†…ä»ä¸€ä¸ªæ¸¯å£è¿é€åˆ°å¦ä¸€ä¸ªæ¸¯å£ã€‚</p>

<p>ä¼ é€å¸¦ä¸Šçš„ç¬¬ <code>i</code>&nbsp;ä¸ªåŒ…è£¹çš„é‡é‡ä¸º&nbsp;<code>weights[i]</code>ã€‚æ¯ä¸€å¤©ï¼Œæˆ‘ä»¬éƒ½ä¼šæŒ‰ç»™å‡ºé‡é‡ï¼ˆ<code>weights</code>ï¼‰çš„é¡ºåºå¾€ä¼ é€å¸¦ä¸Šè£…è½½åŒ…è£¹ã€‚æˆ‘ä»¬è£…è½½çš„é‡é‡ä¸ä¼šè¶…è¿‡èˆ¹çš„æœ€å¤§è¿è½½é‡é‡ã€‚</p>

<p>è¿”å›èƒ½åœ¨ <code>days</code> å¤©å†…å°†ä¼ é€å¸¦ä¸Šçš„æ‰€æœ‰åŒ…è£¹é€è¾¾çš„èˆ¹çš„æœ€ä½è¿è½½èƒ½åŠ›ã€‚</p>

<p>&nbsp;</p>

<p><strong class="example">ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>weights = [1,2,3,4,5,6,7,8,9,10], days = 5
<strong>è¾“å‡ºï¼š</strong>15
<strong>è§£é‡Šï¼š</strong>
èˆ¹èˆ¶æœ€ä½è½½é‡ 15 å°±èƒ½å¤Ÿåœ¨ 5 å¤©å†…é€è¾¾æ‰€æœ‰åŒ…è£¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
ç¬¬ 1 å¤©ï¼š1, 2, 3, 4, 5
ç¬¬ 2 å¤©ï¼š6, 7
ç¬¬ 3 å¤©ï¼š8
ç¬¬ 4 å¤©ï¼š9
ç¬¬ 5 å¤©ï¼š10

è¯·æ³¨æ„ï¼Œè´§ç‰©å¿…é¡»æŒ‰ç…§ç»™å®šçš„é¡ºåºè£…è¿ï¼Œå› æ­¤ä½¿ç”¨è½½é‡èƒ½åŠ›ä¸º 14 çš„èˆ¹èˆ¶å¹¶å°†åŒ…è£…åˆ†æˆ (2, 3, 4, 5), (1, 6, 7), (8), (9), (10) æ˜¯ä¸å…è®¸çš„ã€‚ 
</pre>

<p><strong class="example">ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>weights = [3,2,2,4,1,4], days = 3
<strong>è¾“å‡ºï¼š</strong>6
<strong>è§£é‡Šï¼š</strong>
èˆ¹èˆ¶æœ€ä½è½½é‡ 6 å°±èƒ½å¤Ÿåœ¨ 3 å¤©å†…é€è¾¾æ‰€æœ‰åŒ…è£¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
ç¬¬ 1 å¤©ï¼š3, 2
ç¬¬ 2 å¤©ï¼š2, 4
ç¬¬ 3 å¤©ï¼š1, 4
</pre>

<p><strong class="example">ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>weights = [1,2,3,1,1], days = 4
<strong>è¾“å‡ºï¼š</strong>3
<strong>è§£é‡Šï¼š</strong>
ç¬¬ 1 å¤©ï¼š1
ç¬¬ 2 å¤©ï¼š2
ç¬¬ 3 å¤©ï¼š3
ç¬¬ 4 å¤©ï¼š1, 1
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>1 &lt;= days &lt;= weights.length &lt;= 5 * 10<sup>4</sup></code></li> 
 <li><code>1 &lt;= weights[i] &lt;= 500</code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ•°ç»„ | äºŒåˆ†æŸ¥æ‰¾</details><br>

<div>ğŸ‘ 669, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/issues' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.online/algo/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.online/algo/' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼šä¸ºæ»¡è¶³å¹¿å¤§è¯»è€…çš„éœ€æ±‚ï¼Œç½‘ç«™ä¸Šæ¶ [é€Ÿæˆç›®å½•](https://labuladong.online/algo/intro/quick-learning-plan/)ï¼Œå¦‚æœ‰éœ€è¦å¯ä»¥çœ‹ä¸‹ï¼Œè°¢è°¢å¤§å®¶çš„æ”¯æŒ~**



<p><strong><a href="https://labuladong.online/algo/frequency-interview/binary-search-in-action/" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>


<div id="labuladong_solution_zh">

## åŸºæœ¬æ€è·¯

æ­£å¦‚ [äºŒåˆ†æœç´¢æ€è·¯è¿ç”¨ç¯‡](https://labuladong.online/algo/frequency-interview/binary-search-in-action/) æ‰€è¯´ï¼ŒäºŒåˆ†æœç´¢çš„å¥—è·¯æ¯”è¾ƒå›ºå®šï¼Œå¦‚æœé‡åˆ°ä¸€ä¸ªç®—æ³•é—®é¢˜ï¼Œèƒ½å¤Ÿç¡®å®š `x, f(x), target` åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œå¹¶å†™å‡ºå•è°ƒå‡½æ•° `f` çš„ä»£ç ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¿ç”¨äºŒåˆ†æœç´¢çš„æ€è·¯æ±‚è§£ã€‚

èˆ¹çš„è¿è½½èƒ½åŠ›å°±æ˜¯è‡ªå˜é‡ `x`ï¼Œè¿è¾“å¤©æ•°å’Œè¿è½½èƒ½åŠ›æˆåæ¯”ï¼Œæ‰€ä»¥å¯ä»¥å®šä¹‰ `f(x)` è¡¨ç¤º `x` çš„è¿è½½èƒ½åŠ›ä¸‹éœ€è¦çš„è¿è¾“å¤©æ•°ï¼Œ`target` æ˜¾ç„¶å°±æ˜¯è¿è¾“å¤©æ•° `D`ï¼Œæˆ‘ä»¬è¦åœ¨ `f(x) == D` çš„çº¦æŸä¸‹ï¼Œç®—å‡ºèˆ¹çš„æœ€å°è½½é‡ `x`ã€‚

![](https://labuladong.online/algo/images/binary-search-in-action/5.jpeg)

å…³äºæœ¬é¢˜äºŒåˆ†æœç´¢çš„å…·ä½“æ€è·¯è§è¯¦ç»†é¢˜è§£ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š
  - [å®é™…è¿ç”¨äºŒåˆ†æœç´¢æ—¶çš„æ€ç»´æ¡†æ¶](https://labuladong.online/algo/frequency-interview/binary-search-in-action/)

</div>





<div id="solution">

## è§£æ³•ä»£ç 



<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

#include <vector>
#include <algorithm>

class Solution {
public:
    int shipWithinDays(std::vector<int>& weights, int days) {
        int left = 0;
        int right = 1;
        for (int w : weights) {
            left = std::max(left, w);
            right += w;
        }

        while (left < right) {
            int mid = left + (right - left) / 2;
            if (f(weights, mid) <= days) {
                right = mid;
            } else {
                left = mid + 1;
            }
        }

        return left;
    }

    // å®šä¹‰ï¼šå½“è¿è½½èƒ½åŠ›ä¸º x æ—¶ï¼Œéœ€è¦ f(x) å¤©è¿å®Œæ‰€æœ‰è´§ç‰©
    // f(x) éšç€ x çš„å¢åŠ å•è°ƒé€’å‡
    int f(std::vector<int>& weights, int x) {
        int days = 0;
        for (int i = 0; i < weights.size(); ) {
            // å°½å¯èƒ½å¤šè£…è´§ç‰©
            int cap = x;
            while (i < weights.size()) {
                if (cap < weights[i]) break;
                else cap -= weights[i];
                i++;
            }
            days++;
        }
        return days;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
# æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

class Solution:
    def shipWithinDays(self, weights: List[int], days: int) -> int:
        left = 0
        right = 1
        for w in weights:
            left = max(left, w)
            right += w

        while left < right:
            mid = left + (right - left) // 2
            if self.f(weights, mid) <= days:
                right = mid
            else:
                left = mid + 1

        return left

    # å®šä¹‰ï¼šå½“è¿è½½èƒ½åŠ›ä¸º x æ—¶ï¼Œéœ€è¦ f(x) å¤©è¿å®Œæ‰€æœ‰è´§ç‰©
    # f(x) éšç€ x çš„å¢åŠ å•è°ƒé€’å‡
    def f(self, weights: List[int], x: int) -> int:
        days = 0
        i = 0
        while i < len(weights):
            # å°½å¯èƒ½å¤šè£…è´§ç‰©
            cap = x
            while i < len(weights):
                if cap < weights[i]:
                    break
                else:
                    cap -= weights[i]
                    i += 1
            days += 1
        return days
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    public int shipWithinDays(int[] weights, int days) {
        int left = 0;
        int right = 1;
        for (int w : weights) {
            left = Math.max(left, w);
            right += w;
        }

        while (left < right) {
            int mid = left + (right - left) / 2;
            if (f(weights, mid) <= days) {
                right = mid;
            } else {
                left = mid + 1;
            }
        }

        return left;
    }

    // å®šä¹‰ï¼šå½“è¿è½½èƒ½åŠ›ä¸º x æ—¶ï¼Œéœ€è¦ f(x) å¤©è¿å®Œæ‰€æœ‰è´§ç‰©
    // f(x) éšç€ x çš„å¢åŠ å•è°ƒé€’å‡
    int f(int[] weights, int x) {
        int days = 0;
        for (int i = 0; i < weights.length; ) {
            // å°½å¯èƒ½å¤šè£…è´§ç‰©
            int cap = x;
            while (i < weights.length) {
                if (cap < weights[i]) break;
                else cap -= weights[i];
                i++;
            }
            days++;
        }
        return days;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

func shipWithinDays(weights []int, days int) int {
    left, right := 0, 1
    for _, w := range weights {
        left = max(left, w)
        right += w
    }

    for left < right {
        mid := left + (right-left)/2
        if f(weights, mid) <= days {
            right = mid
        } else {
            left = mid + 1
        }
    }

    return left
}

// å®šä¹‰ï¼šå½“è¿è½½èƒ½åŠ›ä¸º x æ—¶ï¼Œéœ€è¦ f(x) å¤©è¿å®Œæ‰€æœ‰è´§ç‰©
// f(x) éšç€ x çš„å¢åŠ å•è°ƒé€’å‡
func f(weights []int, x int) int {
    days := 0
    for i := 0; i < len(weights); {
        // å°½å¯èƒ½å¤šè£…è´§ç‰©
        cap := x
        for i < len(weights) {
            if cap < weights[i] {
                break
            }
            cap -= weights[i]
            i++
        }
        days++
    }
    return days
}

func max(x, y int) int {
    if x > y {
        return x
    }
    return y
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

var shipWithinDays = function(weights, days) {
    let left = 0;
    let right = 1;
    for (let w of weights) {
        left = Math.max(left, w);
        right += w;
    }

    while (left < right) {
        let mid = left + Math.floor((right - left) / 2);
        if (f(weights, mid) <= days) {
            right = mid;
        } else {
            left = mid + 1;
        }
    }

    return left;
    
    // å®šä¹‰ï¼šå½“è¿è½½èƒ½åŠ›ä¸º x æ—¶ï¼Œéœ€è¦ f(x) å¤©è¿å®Œæ‰€æœ‰è´§ç‰©
    // f(x) éšç€ x çš„å¢åŠ å•è°ƒé€’å‡
    function f(weights, x) {
        let days = 0;
        for (let i = 0; i < weights.length; ) {
            // å°½å¯èƒ½å¤šè£…è´§ç‰©
            let cap = x;
            while (i < weights.length) {
                if (cap < weights[i]) break;
                else cap -= weights[i];
                i++;
            }
            days++;
        }
        return days;
    }
};
```

</div></div>
</div></div>

<hr /><details open hint-container details><summary style="font-size: medium"><strong>ğŸŒŸğŸŒŸ ç®—æ³•å¯è§†åŒ– ğŸŒŸğŸŒŸ</strong></summary><div id="data_capacity-to-ship-packages-within-d-days"  category="leetcode" ></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_capacity-to-ship-packages-within-d-days"></div></div>
</details><hr /><br />

</div>
</details>
</div>

