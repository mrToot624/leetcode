<p>ç»™ä½ ä¸€ä¸ª <code>n x n</code> çš„äºŒè¿›åˆ¶çŸ©é˜µ <code>grid</code> ä¸­ï¼Œè¿”å›çŸ©é˜µä¸­æœ€çŸ­ <strong>ç•…é€šè·¯å¾„</strong> çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è·¯å¾„ï¼Œè¿”å› <code>-1</code> ã€‚</p>

<p>äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„ ç•…é€šè·¯å¾„ æ˜¯ä¸€æ¡ä» <strong>å·¦ä¸Šè§’</strong> å•å…ƒæ ¼ï¼ˆå³ï¼Œ<code>(0, 0)</code>ï¼‰åˆ° å³ä¸‹è§’ å•å…ƒæ ¼ï¼ˆå³ï¼Œ<code>(n - 1, n - 1)</code>ï¼‰çš„è·¯å¾„ï¼Œè¯¥è·¯å¾„åŒæ—¶æ»¡è¶³ä¸‹è¿°è¦æ±‚ï¼š</p>

<ul> 
 <li>è·¯å¾„é€”ç»çš„æ‰€æœ‰å•å…ƒæ ¼çš„å€¼éƒ½æ˜¯ <code>0</code> ã€‚</li> 
 <li>è·¯å¾„ä¸­æ‰€æœ‰ç›¸é‚»çš„å•å…ƒæ ¼åº”å½“åœ¨ <strong>8 ä¸ªæ–¹å‘ä¹‹ä¸€</strong> ä¸Šè¿é€šï¼ˆå³ï¼Œç›¸é‚»ä¸¤å•å…ƒä¹‹é—´å½¼æ­¤ä¸åŒä¸”å…±äº«ä¸€æ¡è¾¹æˆ–è€…ä¸€ä¸ªè§’ï¼‰ã€‚</li> 
</ul>

<p><strong>ç•…é€šè·¯å¾„çš„é•¿åº¦</strong> æ˜¯è¯¥è·¯å¾„é€”ç»çš„å•å…ƒæ ¼æ€»æ•°ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p> 
<img alt="" src="https://assets.leetcode.com/uploads/2021/02/18/example1_1.png" style="width: 500px; height: 234px;" /> 
<pre>
<strong>è¾“å…¥ï¼š</strong>grid = [[0,1],[1,0]]
<strong>è¾“å‡ºï¼š</strong>2
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p> 
<img alt="" src="https://assets.leetcode.com/uploads/2021/02/18/example2_1.png" style="height: 216px; width: 500px;" /> 
<pre>
<strong>è¾“å…¥ï¼š</strong>grid = [[0,0,0],[1,1,0],[1,1,0]]
<strong>è¾“å‡ºï¼š</strong>4
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>grid = [[1,0,0],[1,1,0],[1,1,0]]
<strong>è¾“å‡ºï¼š</strong>-1
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>n == grid.length</code></li> 
 <li><code>n == grid[i].length</code></li> 
 <li><code>1 &lt;= n &lt;= 100</code></li> 
 <li><code>grid[i][j]</code> ä¸º <code>0</code> æˆ– <code>1</code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>å¹¿åº¦ä¼˜å…ˆæœç´¢ | æ•°ç»„ | çŸ©é˜µ</details><br>

<div>ğŸ‘ 404, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/issues' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.online/algo/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.online/algo/' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼šä¸ºæ»¡è¶³å¹¿å¤§è¯»è€…çš„éœ€æ±‚ï¼Œç½‘ç«™ä¸Šæ¶ [é€Ÿæˆç›®å½•](https://labuladong.online/algo/intro/quick-learning-plan/)ï¼Œå¦‚æœ‰éœ€è¦å¯ä»¥çœ‹ä¸‹ï¼Œè°¢è°¢å¤§å®¶çš„æ”¯æŒ~**

<details><summary><strong>labuladong æ€è·¯</strong></summary>


<div id="labuladong_solution_zh">

## åŸºæœ¬æ€è·¯

è¿™é“é¢˜çš„æ€è·¯åº”è¯¥å¾ˆæ˜æ˜¾ï¼Œ[BFS ç®—æ³•](https://labuladong.online/algo/essential-technique/bfs-framework/) è‚¯å®šå¯ä»¥è§£å†³ã€‚

ä¸€èˆ¬æˆ‘ä»¬äºŒç»´çŸ©é˜µç›¸å…³çš„é¢˜ç›®åªå…è®¸ä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼Œè¿™é‡Œè¿˜å…è®¸æ–œç€ç§»åŠ¨ï¼Œåªè¦ç¨å¾®æ”¹ä¸€æ”¹ [BFS ç®—æ³•æ¡†æ¶](https://labuladong.online/algo/essential-technique/bfs-framework/) ä¸­çš„æ–¹å‘æ•°ç»„ `dirs` å³å¯ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š
  - [ã€ç»ƒä¹ ã€‘BFS ç»å…¸ä¹ é¢˜ I](https://labuladong.online/algo/problem-set/bfs/)

</div>





<div id="solution">

## è§£æ³•ä»£ç 



<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

class Solution {
public:
    int shortestPathBinaryMatrix(vector<vector<int>>& grid) {
        int m = grid.size(), n = grid[0].size();
        if (grid[0][0] == 1 || grid[m - 1][n - 1] == 1) {
            return -1;
        }

        queue<pair<int, int>> q;
        // éœ€è¦è®°å½•èµ°è¿‡çš„è·¯å¾„ï¼Œé¿å…æ­»å¾ªç¯
        vector<vector<bool>> visited(m, vector<bool>(n, false));

        // åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œä» (0, 0) å‡ºå‘
        q.push({0, 0});
        visited[0][0] = true;
        int pathLen = 1;

        // æ‰§è¡Œ BFS ç®—æ³•æ¡†æ¶ï¼Œä»å€¼ä¸º 0 çš„åæ ‡å¼€å§‹å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
        vector<vector<int>> dirs = {
            {0, 1}, {0, -1}, {1, 0}, {-1, 0},
            {1, 1}, {1, -1}, {-1, 1}, {-1, -1}
        };
        while (!q.empty()) {
            int sz = q.size();
            for (int __ = 0; __ < sz; __++) {
                auto cur = q.front();
                q.pop();
                int x = cur.first, y = cur.second;
                if (x == m - 1 && y == n - 1) {
                    return pathLen;
                }
                // å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
                for (int i = 0; i < 8; i++) {
                    int nextX = x + dirs[i][0];
                    int nextY = y + dirs[i][1];
                    // ç¡®ä¿ç›¸é‚»çš„è¿™ä¸ªåæ ‡æ²¡æœ‰è¶Šç•Œä¸”å€¼ä¸º 0 ä¸”ä¹‹å‰æ²¡æœ‰èµ°è¿‡
                    if (nextX >= 0 && nextX < m && nextY >= 0 && nextY < n
                        && grid[nextX][nextY] == 0 && !visited[nextX][nextY]) {
                        q.push({nextX, nextY});
                        visited[nextX][nextY] = true;
                    }
                }
            }
            pathLen++;
        }
        return -1;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
# æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

from collections import deque

class Solution:
    def shortestPathBinaryMatrix(self, grid: List[List[int]]) -> int:
        m, n = len(grid), len(grid[0])
        if grid[0][0] == 1 or grid[m - 1][n - 1] == 1:
            return -1

        q = deque()
        # éœ€è¦è®°å½•èµ°è¿‡çš„è·¯å¾„ï¼Œé¿å…æ­»å¾ªç¯
        visited = [[False] * n for _ in range(m)]

        # åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œä» (0, 0) å‡ºå‘
        q.append((0, 0))
        visited[0][0] = True
        pathLen = 1

        # æ‰§è¡Œ BFS ç®—æ³•æ¡†æ¶ï¼Œä»å€¼ä¸º 0 çš„åæ ‡å¼€å§‹å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
        dirs = [
            (0, 1), (0, -1), (1, 0), (-1, 0),
            (1, 1), (1, -1), (-1, 1), (-1, -1)
        ]
        while q:
            sz = len(q)
            for _ in range(sz):
                x, y = q.popleft()
                if x == m - 1 and y == n - 1:
                    return pathLen
                # å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
                for dx, dy in dirs:
                    nextX, nextY = x + dx, y + dy
                    # ç¡®ä¿ç›¸é‚»çš„è¿™ä¸ªåæ ‡æ²¡æœ‰è¶Šç•Œä¸”å€¼ä¸º 0 ä¸”ä¹‹å‰æ²¡æœ‰èµ°è¿‡
                    if 0 <= nextX < m and 0 <= nextY < n and grid[nextX][nextY] == 0 and not visited[nextX][nextY]:
                        q.append((nextX, nextY))
                        visited[nextX][nextY] = True
            pathLen += 1
        return -1
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    public int shortestPathBinaryMatrix(int[][] grid) {
        int m = grid.length, n = grid[0].length;
        if (grid[0][0] == 1 || grid[m - 1][n - 1] == 1) {
            return -1;
        }

        Queue<int[]> q = new LinkedList<>();
        // éœ€è¦è®°å½•èµ°è¿‡çš„è·¯å¾„ï¼Œé¿å…æ­»å¾ªç¯
        boolean[][] visited = new boolean[m][n];

        // åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œä» (0, 0) å‡ºå‘
        q.offer(new int[]{0, 0});
        visited[0][0] = true;
        int pathLen = 1;

        // æ‰§è¡Œ BFS ç®—æ³•æ¡†æ¶ï¼Œä»å€¼ä¸º 0 çš„åæ ‡å¼€å§‹å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
        int[][] dirs = new int[][]{
                {0, 1}, {0, -1}, {1, 0}, {-1, 0},
                {1, 1}, {1, -1}, {-1, 1}, {-1, -1}
        };
        while (!q.isEmpty()) {
            int sz = q.size();
            for (int __ = 0; __ < sz; __++) {
                int[] cur = q.poll();
                int x = cur[0], y = cur[1];
                if (x == m - 1 && y == n - 1) {
                    return pathLen;
                }
                // å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
                for (int i = 0; i < 8; i++) {
                    int nextX = x + dirs[i][0];
                    int nextY = y + dirs[i][1];
                    // ç¡®ä¿ç›¸é‚»çš„è¿™ä¸ªåæ ‡æ²¡æœ‰è¶Šç•Œä¸”å€¼ä¸º 0 ä¸”ä¹‹å‰æ²¡æœ‰èµ°è¿‡
                    if (nextX >= 0 && nextX < m && nextY >= 0 && nextY < n
                            && grid[nextX][nextY] == 0 && !visited[nextX][nextY]) {
                        q.offer(new int[]{nextX, nextY});
                        visited[nextX][nextY] = true;
                    }
                }
            }
            pathLen++;
        }
        return -1;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

func shortestPathBinaryMatrix(grid [][]int) int {
    m := len(grid)
    n := len(grid[0])
    if grid[0][0] == 1 || grid[m-1][n-1] == 1 {
        return -1
    }

    q := make([][2]int, 0)
    // éœ€è¦è®°å½•èµ°è¿‡çš„è·¯å¾„ï¼Œé¿å…æ­»å¾ªç¯
    visited := make([][]bool, m)
    for i := range visited {
        visited[i] = make([]bool, n)
    }

    // åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œä» (0, 0) å‡ºå‘
    q = append(q, [2]int{0, 0})
    visited[0][0] = true
    pathLen := 1

    // æ‰§è¡Œ BFS ç®—æ³•æ¡†æ¶ï¼Œä»å€¼ä¸º 0 çš„åæ ‡å¼€å§‹å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
    dirs := [8][2]int{
        {0, 1}, {0, -1}, {1, 0}, {-1, 0},
        {1, 1}, {1, -1}, {-1, 1}, {-1, -1},
    }
    
    for len(q) > 0 {
        sz := len(q)
        for i := 0; i < sz; i++ {
            cur := q[0]
            q = q[1:]
            x, y := cur[0], cur[1]
            if x == m-1 && y == n-1 {
                return pathLen
            }
            // å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
            for j := 0; j < 8; j++ {
                nextX := x + dirs[j][0]
                nextY := y + dirs[j][1]
                // ç¡®ä¿ç›¸é‚»çš„è¿™ä¸ªåæ ‡æ²¡æœ‰è¶Šç•Œä¸”å€¼ä¸º 0 ä¸”ä¹‹å‰æ²¡æœ‰èµ°è¿‡
                if nextX >= 0 && nextX < m && nextY >= 0 && nextY < n &&
                    grid[nextX][nextY] == 0 && !visited[nextX][nextY] {
                    q = append(q, [2]int{nextX, nextY})
                    visited[nextX][nextY] = true
                }
            }
        }
        pathLen++
    }
    return -1
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

var shortestPathBinaryMatrix = function(grid) {
    let m = grid.length, n = grid[0].length;
    if (grid[0][0] == 1 || grid[m - 1][n - 1] == 1) {
        return -1;
    }

    let q = [];
    // éœ€è¦è®°å½•èµ°è¿‡çš„è·¯å¾„ï¼Œé¿å…æ­»å¾ªç¯
    let visited = Array.from({ length: m }, () => Array(n).fill(false));

    // åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œä» (0, 0) å‡ºå‘
    q.push([0, 0]);
    visited[0][0] = true;
    let pathLen = 1;

    // æ‰§è¡Œ BFS ç®—æ³•æ¡†æ¶ï¼Œä»å€¼ä¸º 0 çš„åæ ‡å¼€å§‹å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
    let dirs = [
        [0, 1], [0, -1], [1, 0], [-1, 0],
        [1, 1], [1, -1], [-1, 1], [-1, -1]
    ];
    while (q.length > 0) {
        let sz = q.length;
        for (let __ = 0; __ < sz; __++) {
            let cur = q.shift();
            let x = cur[0], y = cur[1];
            if (x == m - 1 && y == n - 1) {
                return pathLen;
            }
            // å‘å…«ä¸ªæ–¹å‘æ‰©æ•£
            for (let i = 0; i < 8; i++) {
                let nextX = x + dirs[i][0];
                let nextY = y + dirs[i][1];
                // ç¡®ä¿ç›¸é‚»çš„è¿™ä¸ªåæ ‡æ²¡æœ‰è¶Šç•Œä¸”å€¼ä¸º 0 ä¸”ä¹‹å‰æ²¡æœ‰èµ°è¿‡
                if (nextX >= 0 && nextX < m && nextY >= 0 && nextY < n
                    && grid[nextX][nextY] == 0 && !visited[nextX][nextY]) {
                    q.push([nextX, nextY]);
                    visited[nextX][nextY] = true;
                }
            }
        }
        pathLen++;
    }
    return -1;
};
```

</div></div>
</div></div>

<hr /><details open hint-container details><summary style="font-size: medium"><strong>ğŸŒˆğŸŒˆ ç®—æ³•å¯è§†åŒ– ğŸŒˆğŸŒˆ</strong></summary><div id="data_shortest-path-in-binary-matrix"  category="leetcode" ></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_shortest-path-in-binary-matrix"></div></div>
</details><hr /><br />

</div>
</details>
</div>

