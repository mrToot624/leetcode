<p><strong>çŸ©é˜µå¯¹è§’çº¿</strong> æ˜¯ä¸€æ¡ä»çŸ©é˜µæœ€ä¸Šé¢è¡Œæˆ–è€…æœ€å·¦ä¾§åˆ—ä¸­çš„æŸä¸ªå…ƒç´ å¼€å§‹çš„å¯¹è§’çº¿ï¼Œæ²¿å³ä¸‹æ–¹å‘ä¸€ç›´åˆ°çŸ©é˜µæœ«å°¾çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼ŒçŸ©é˜µ <code>mat</code> æœ‰ <code>6</code> è¡Œ <code>3</code> åˆ—ï¼Œä» <code>mat[2][0]</code> å¼€å§‹çš„ <strong>çŸ©é˜µå¯¹è§’çº¿</strong> å°†ä¼šç»è¿‡ <code>mat[2][0]</code>ã€<code>mat[3][1]</code> å’Œ <code>mat[4][2]</code> ã€‚</p>

<p>ç»™ä½ ä¸€ä¸ª&nbsp;<code>m * n</code>&nbsp;çš„æ•´æ•°çŸ©é˜µ&nbsp;<code>mat</code>&nbsp;ï¼Œè¯·ä½ å°†åŒä¸€æ¡ <strong>çŸ©é˜µå¯¹è§’çº¿ </strong>ä¸Šçš„å…ƒç´ æŒ‰å‡åºæ’åºåï¼Œè¿”å›æ’å¥½åºçš„çŸ©é˜µã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<p><img alt="" src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/01/25/1482_example_1_2.png" style="height: 198px; width: 500px;" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>mat = [[3,3,1,1],[2,2,1,2],[1,1,1,2]]
<strong>è¾“å‡ºï¼š</strong>[[1,1,1,1],[1,2,2,2],[1,2,3,3]]
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>mat = [[11,25,66,1,69,7],[23,55,17,45,15,52],[75,31,36,44,58,8],[22,27,33,25,68,4],[84,28,14,11,5,50]]
<strong>è¾“å‡ºï¼š</strong>[[5,17,4,1,52,7],[11,11,25,45,8,69],[14,23,25,44,58,15],[22,27,31,36,50,66],[84,28,75,33,55,68]]
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>m ==&nbsp;mat.length</code></li> 
 <li><code>n ==&nbsp;mat[i].length</code></li> 
 <li><code>1 &lt;= m, n&nbsp;&lt;= 100</code></li> 
 <li><code>1 &lt;= mat[i][j] &lt;= 100</code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ•°ç»„ | çŸ©é˜µ | æ’åº</details><br>

<div>ğŸ‘ 144, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/issues' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.online/algo/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.online/algo/' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼šä¸ºæ»¡è¶³å¹¿å¤§è¯»è€…çš„éœ€æ±‚ï¼Œç½‘ç«™ä¸Šæ¶ [é€Ÿæˆç›®å½•](https://labuladong.online/algo/intro/quick-learning-plan/)ï¼Œå¦‚æœ‰éœ€è¦å¯ä»¥çœ‹ä¸‹ï¼Œè°¢è°¢å¤§å®¶çš„æ”¯æŒ~**

<details><summary><strong>labuladong æ€è·¯</strong></summary>


<div id="labuladong_solution_zh">

## åŸºæœ¬æ€è·¯

è¿™é¢˜éå¸¸æœ‰æ„æ€ï¼ŒæŒ‰ç…§å¯¹è§’çº¿æ“ä½œäºŒç»´æ•°ç»„æ˜¯éœ€è¦æŠ€å·§çš„ï¼Œå³ä½ å¦‚ä½•å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ åæ ‡æ˜¯å¦åœ¨åŒä¸€ä¸ªå¯¹è§’çº¿ä¸Šï¼Ÿ

**ç›´æ¥è¯´ç»“è®ºï¼šåœ¨åŒä¸€ä¸ªå¯¹è§’çº¿ä¸Šçš„å…ƒç´ ï¼Œå…¶æ¨ªçºµåæ ‡ä¹‹å·®æ˜¯ç›¸åŒçš„**ã€‚ä½ ç”»å›¾çœ‹çœ‹ï¼Œæˆ–è€…ç¨å¾®æƒ³æƒ³å°±èƒ½æ˜ç™½ï¼šå³ä¸‹è§’èµ°ä¸€æ­¥æ¨ªçºµåæ ‡éƒ½ä¼šåŠ ä¸€ï¼Œæ‰€ä»¥ä»–ä»¬çš„å·®è‚¯å®šä¸ä¼šå˜ã€‚

æœ‰äº†è¿™ä¸ªè§„å¾‹è¾…åŠ©ï¼Œè¿™é“é¢˜å°±å¾ˆå®¹æ˜“åšäº†ï¼Œæˆ‘ç›´æ¥ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æŠŠæ¯ä¸ªå¯¹è§’çº¿çš„å…ƒç´ å­˜èµ·æ¥ï¼Œæƒ³åŠæ³•æ’åºï¼Œæœ€åæ”¾å›äºŒç»´çŸ©é˜µä¸Šå³å¯ã€‚

å¦‚ä½•æ’åºæ•°ç»„å‘¢ï¼Ÿå€ŸåŠ©æœ‰åºæ•°æ®ç»“æ„æˆ–è€…ç”¨æ ‡å‡†åº“çš„æ’åºå‡½æ•°éƒ½è¡Œï¼Œè¿™é‡Œæˆ‘å°±ç”¨æ ‡å‡†åº“çš„æ’åºå‡½æ•°å¥½äº†ï¼Œä¸è¿‡è€ƒè™‘åˆ°æ•°ç»„çš„æ“ä½œæ•ˆç‡ï¼Œæ‰€ä»¥æˆ‘éœ€è¦ä»æœ€ååˆ é™¤å…ƒç´ ã€‚

å…·ä½“çš„è§£æ³•çœ‹ä»£ç å§ï¼Œæ›´å¤šæœ‰æŠ€å·§æ€§çš„äºŒç»´çŸ©é˜µæ“ä½œå‚è§ [äºŒç»´æ•°ç»„çš„èŠ±å¼éå†](https://labuladong.online/algo/practice-in-action/2d-array-traversal-summary/)ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š
  - [ã€ç»ƒä¹ ã€‘æ•°ç»„åŒæŒ‡é’ˆç»å…¸ä¹ é¢˜](https://labuladong.online/algo/problem-set/array-two-pointers/)

</div>





<div id="solution">

## è§£æ³•ä»£ç 



<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

#include <vector>
#include <unordered_map>
#include <algorithm>
#include <list>

class Solution {
public:
    std::vector<std::vector<int>> diagonalSort(std::vector<std::vector<int>>& mat) {
        int m = mat.size(), n = mat[0].size();

        // å­˜å‚¨æ‰€æœ‰å¯¹è§’çº¿çš„å…ƒç´ åˆ—è¡¨
        std::unordered_map<int, std::list<int>> diagonals;

        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                // æ¨ªçºµåæ ‡ä¹‹å·®å¯ä»¥ä½œä¸ºä¸€æ¡å¯¹è§’çº¿çš„ ID
                int diagonalID = i - j;
                diagonals[diagonalID].push_back(mat[i][j]);
            }
        }

        // ä»æ•°ç»„æœ«å°¾åˆ é™¤å…ƒç´ æ•ˆç‡è¾ƒé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠ ArrayList å€’åºæ’åº
        for (auto& diagonal : diagonals) {
            diagonal.second.sort(std::greater<int>());
        }

        // æŠŠæ’åºç»“æœå›å¡«äºŒç»´çŸ©é˜µ
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                std::list<int>& diagonal = diagonals[i - j];
                mat[i][j] = diagonal.back();
                diagonal.pop_back();
            }
        }

        return mat;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
# æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

class Solution:
    def diagonalSort(self, mat: List[List[int]]) -> List[List[int]]:
        m, n = len(mat), len(mat[0])

        # å­˜å‚¨æ‰€æœ‰å¯¹è§’çº¿çš„å…ƒç´ åˆ—è¡¨
        diagonals = {}

        for i in range(m):
            for j in range(n):
                # æ¨ªçºµåæ ‡ä¹‹å·®å¯ä»¥ä½œä¸ºä¸€æ¡å¯¹è§’çº¿çš„ ID
                diagonalID = i - j
                if diagonalID not in diagonals:
                    diagonals[diagonalID] = []
                diagonals[diagonalID].append(mat[i][j])

        # ä»æ•°ç»„æœ«å°¾åˆ é™¤å…ƒç´ æ•ˆç‡è¾ƒé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠ ArrayList å€’åºæ’åº
        for diagonal in diagonals.values():
            diagonal.sort(reverse=True)

        # æŠŠæ’åºç»“æœå›å¡«äºŒç»´çŸ©é˜µ
        for i in range(m):
            for j in range(n):
                diagonal = diagonals[i - j]
                mat[i][j] = diagonal.pop()

        return mat
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    public int[][] diagonalSort(int[][] mat) {
        int m = mat.length, n = mat[0].length;

        // å­˜å‚¨æ‰€æœ‰å¯¹è§’çº¿çš„å…ƒç´ åˆ—è¡¨
        HashMap<Integer, ArrayList<Integer>> diagonals = new HashMap<>();

        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                // æ¨ªçºµåæ ‡ä¹‹å·®å¯ä»¥ä½œä¸ºä¸€æ¡å¯¹è§’çº¿çš„ ID
                int diagonalID = i - j;
                diagonals.putIfAbsent(diagonalID, new ArrayList<>());
                diagonals.get(diagonalID).add(mat[i][j]);
            }
        }

        // ä»æ•°ç»„æœ«å°¾åˆ é™¤å…ƒç´ æ•ˆç‡è¾ƒé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠ ArrayList å€’åºæ’åº
        for (List<Integer> diagonal: diagonals.values()) {
            Collections.sort(diagonal, Collections.reverseOrder());
        }

        // æŠŠæ’åºç»“æœå›å¡«äºŒç»´çŸ©é˜µ
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                ArrayList<Integer> diagonal = diagonals.get(i - j);
                mat[i][j] = diagonal.remove(diagonal.size() - 1);
            }
        }

        return mat;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

func diagonalSort(mat [][]int) [][]int {
    m, n := len(mat), len(mat[0])

    // å­˜å‚¨æ‰€æœ‰å¯¹è§’çº¿çš„å…ƒç´ åˆ—è¡¨
    diagonals := make(map[int][]int)

    for i := 0; i < m; i++ {
        for j := 0; j < n; j++ {
            // æ¨ªçºµåæ ‡ä¹‹å·®å¯ä»¥ä½œä¸ºä¸€æ¡å¯¹è§’çº¿çš„ ID
            diagonalID := i - j
            diagonals[diagonalID] = append(diagonals[diagonalID], mat[i][j])
        }
    }

    // ä»æ•°ç»„æœ«å°¾åˆ é™¤å…ƒç´ æ•ˆç‡è¾ƒé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠ ArrayList å€’åºæ’åº
    for _, diagonal := range diagonals {
        sort.Slice(diagonal, func(i, j int) bool {
            return diagonal[i] > diagonal[j]
        })
    }

    // æŠŠæ’åºç»“æœå›å¡«äºŒç»´çŸ©é˜µ
    for i := 0; i < m; i++ {
        for j := 0; j < n; j++ {
            diagonalID := i - j
            mat[i][j] = diagonals[diagonalID][len(diagonals[diagonalID])-1]
            diagonals[diagonalID] = diagonals[diagonalID][:len(diagonals[diagonalID])-1]
        }
    }

    return mat
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

var diagonalSort = function(mat) {
    let m = mat.length, n = mat[0].length;

    // å­˜å‚¨æ‰€æœ‰å¯¹è§’çº¿çš„å…ƒç´ åˆ—è¡¨
    let diagonals = new Map();

    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            // æ¨ªçºµåæ ‡ä¹‹å·®å¯ä»¥ä½œä¸ºä¸€æ¡å¯¹è§’çº¿çš„ ID
            let diagonalID = i - j;
            if (!diagonals.has(diagonalID)) {
                diagonals.set(diagonalID, []);
            }
            diagonals.get(diagonalID).push(mat[i][j]);
        }
    }

    // ä»æ•°ç»„æœ«å°¾åˆ é™¤å…ƒç´ æ•ˆç‡è¾ƒé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠ ArrayList å€’åºæ’åº
    for (let diagonal of diagonals.values()) {
        diagonal.sort((a, b) => b - a);
    }

    // æŠŠæ’åºç»“æœå›å¡«äºŒç»´çŸ©é˜µ
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            let diagonal = diagonals.get(i - j);
            mat[i][j] = diagonal.pop();
        }
    }

    return mat;
};
```

</div></div>
</div></div>

<hr /><details open hint-container details><summary style="font-size: medium"><strong>ğŸŒŸğŸŒŸ ç®—æ³•å¯è§†åŒ– ğŸŒŸğŸŒŸ</strong></summary><div id="data_sort-the-matrix-diagonally"  category="leetcode" ></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_sort-the-matrix-diagonally"></div></div>
</details><hr /><br />

</div>
</details>
</div>

